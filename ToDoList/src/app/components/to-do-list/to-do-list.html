@if(isLoading){
    <div class="overlay">
        <div class="loader"></div>
    </div>
} @else {
    <div>
        <h1>ToDo List</h1>

        <ul class="tasks">
            @for (task of tasks; track task.id) {
                <app-to-do-list-item [task]="task" (newItemEvent)="delete($event)" />
            } @empty {
                <li>Let's start planning</li>
            }
        </ul>

        <form class="mt-big row" #newTaskForm="ngForm">
            <mat-form-field appearance="outline">
                <mat-label>Add your new todo</mat-label>
                <input matInput [(ngModel)]="newTask" name="newTask" required placeholder="Conquer the world" maxlength="50" minlength="2">
            </mat-form-field>
            <button type="submit" [disabled]="newTaskForm.invalid" matButton="outlined" class="button button_add td-form__button" on-click="add(newTask);newTaskForm.reset()">Add task</button>
        </form>
    </div>
}